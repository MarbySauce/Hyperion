<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Hyperion</title>
		<link href="../css/mainWindow.css" rel="stylesheet" />
		<link href="../css/mainWindowGrid.css" rel="stylesheet" />
	</head>
	<body>
		<!-- Tab Bar -->
		<div id="TabBar">
			<button class="tab" id="SeviMode">SEVI</button>
			<button class="tab" id="IRSeviMode">IR SEVI</button>
			<button class="tab" id="IRActionMode">IR Action Mode</button>
			<!-- Future tab buttons should be added here -->
			<button class="tab" id="Settings">Settings</button>
		</div>
		<!-- SEVI Mode Content -->
		<div class="sevi-mode" id="SeviModeContent">
			<!-- SEVI Mode - First Page -->
			<div class="first-page page grid" id="SeviFirstPage">
				<!-- SEVI Mode - First Page - Title Section -->
				<div class="grid background-lighter-blue title-section" id="TitleSection">
					<h1 class="white-text title">Hyperion</h1>
				</div>
				<!-- SEVI Mode - First Page - Scan Controls -->
				<div class="grid background-lighter-blue scan-controls" id="ScanControls">
					<button class="scan-control-button square-button white-text" id="ScanStartSave">
						<span class="scan-button-text" id="ScanStartSaveText">Start</span>
					</button>
					<button class="scan-control-button square-button white-text" id="ScanPauseResume">
						<span class="scan-button-text" id="ScanPauseResumeText">Pause</span>
					</button>
					<button class="scan-control-button square-button white-text" id="ScanCancel">
						<span class="scan-button-text" id="ScanCancelText">Cancel</span>
					</button>
					<button class="scan-control-button square-button white-text" id="ScanAutosave">
						<span class="scan-button-text" id="ScanAutosaveText">Autosave</span>
						<br />
						<span class="scan-button-text" id="ScanAutosaveStatusText">On</span>
					</button>
					<button class="scan-control-button square-button white-text" id="ScanReset">
						<span class="scan-button-text" id="ScanResetText">Reset</span>
					</button>
					<button class="scan-control-button square-button white-text" id="ScanSingleShot">
						<span class="scan-button-text" id="ScanSingleShotText">Single Shot</span>
					</button>
				</div>
				<!-- SEVI Mode - First Page - File Naming -->
				<div class="grid background-lighter-blue" id="FileNaming">
					<h4 class="white-text save-control-title" id="CurrentImageTitle">Current Image</h4>
					<h4 class="white-text save-control-title" id="ImageCounterTitle">Image ID</h4>
					<input class="white-text input-read file-name-display" id="CurrentImageFile" readonly />
					<button class="image-id-button" id="ImageCounterDown">-</button>
					<input class="input-read" type="number" value="1" id="ImageCounter" readonly />
					<button class="image-id-button" id="ImageCounterUp">+</button>
					<input class="white-text input-read file-name-display sevi-mode-hide" id="CurrentImageFileIR" readonly />
					<label class="white-text text-box-label" id="VMILabel">VMI Setting:</label>
					<select class="white-text square-button drop-down" name="VMIMode" id="VMIMode">
						<option value="V1">V1</option>
						<option value="V2">V2</option>
						<option value="V3">V3</option>
						<option value="V4">V4</option>
					</select>
				</div>
				<!-- SEVI Mode - First Page - Laser Setup -->
				<div class="grid background-lighter-blue save-control-section negative-bottom-margin" id="LaserSetup">
					<div class="grid background-lighter-blue" id="LaserSetupTitle">
						<h3 class="white-text" id="LaserControlTitle">Laser Control</h3>
					</div>
					<!-- Detachment Laser Readout -->
					<div class="grid background-lighter-blue laser-readout" id="DetachmentLaserReadout">
						<select class="white-text square-button drop-down" name="WavelengthMode" id="WavelengthMode">
							<option value="Standard">Standard</option>
							<option value="Doubled">Doubled</option>
							<option value="Raman">Raman</option>
							<option value="IRDFG">IR-DFG</option>
						</select>
						<label class="white-text right-align" for="DetachmentWavelength" id="DetachmentWavelengthLabel">h<em class="serif">ν</em>:</label>
						<input class="input-change hv-display" id="DetachmentWavelength" type="number" min="0" placeholder="-" />
						<label class="white-text" id="NMLabel1">nm</label>
						<input class="input-read hv-display" id="ConvertedWavelength" type="number" placeholder="-" readonly />
						<label class="white-text" id="NMLabel2">nm</label>
						<input class="input-read hv-display" id="DetachmentWavenumber" type="number" placeholder="-" readonly />
						<label class="white-text" id="WNLabel1">cm<sup>-1</sup></label>
					</div>
					<!-- IR Laser Readout -->
					<div class="grid background-lighter-blue laser-readout sevi-mode-hide" id="IRLaserReadout">
						<select class="white-text square-button drop-down sevi-mode-hide" name="IRWavelengthMode" id="IRWavelengthMode">
							<option value="Standard">Near IR</option>
							<option value="Doubled">Inter. IR</option>
							<option value="Raman">Mid IR</option>
							<option value="IRDFG">Far IR</option>
						</select>
						<label class="white-text right-align sevi-mode-hide" for="IRWavelength" id="IRWavelengthLabel">h<em class="serif">ν</em>:</label>
						<input class="input-change hv-display sevi-mode-hide" id="IRWavelength" type="number" min="0" placeholder="-" />
						<label class="white-text sevi-mode-hide" id="NMLabel3">nm</label>
						<input class="input-read hv-display sevi-mode-hide" id="IRConvertedWavelength" type="number" placeholder="-" readonly />
						<label class="white-text sevi-mode-hide" id="NMLabel4">nm</label>
						<input class="input-read hv-display sevi-mode-hide" id="IRWavenumber" type="number" placeholder="-" readonly />
						<label class="white-text sevi-mode-hide" id="WNLabel2">cm<sup>-1</sup></label>
					</div>
					<!-- IR Laser Control -->
					<div class="grid background-lighter-blue laser-readout sevi-mode-hide" id="IRLaserControl">
						<label class="white-text sevi-mode-hide" id="IRLaserControlLabel">Desired IR Energy:</label>
						<input class="input-change hv-display sevi-mode-hide" id="DesiredEnergy" type="number" min="0" placeholder="-" />
						<select class="white-text square-button drop-down sevi-mode-hide" name="DesiredEnergyUnit" id="DesiredEnergyUnit">
							<!-- $#x is the beginning for unicode characters, 207B is superscript "-", 00B9 is superscript "1" -->
							<option value="cm-1">cm&#x207B;&#x00B9;</option>
							<option value="um">µm</option>
							<option value="nm">nm</option>
						</select>
						<label class="white-text faded sevi-mode-hide" id="DesiredIRRangeMessage"></label>
						<button class="white-text square-button sevi-mode-hide" id="MoveIRButton">Go</button>
					</div>
					<div class="grid background-lighter-blue" id="LaserMeasurement">
						<button class="white-text square-button" id="MeasureDetachmentWavelength">Measure</button>
					</div>
				</div>
				<!-- SEVI Mode - First Page - Image Display -->
				<div class="grid background-lighter-blue" id="ImageDisplay">
					<h3 class="white-text">Accumulated View</h3>
					<select class="white-text square-button drop-down sevi-mode-hide" name="ImageDisplaySelect" id="ImageDisplaySelect">
						<option value="IROff">IR Off</option>
						<option value="IROn">IR On</option>
						<option value="DifferencePos">Difference (Pos.)</option>
						<option value="DifferenceNeg">Difference (Neg.)</option>
					</select>
					<div class="grid" id="DisplayWrapper">
						<canvas class="accumulated-image" id="Display" width="2000" height="2000"></canvas>
					</div>

					<input class="display-slider" id="DisplaySlider" type="range" min="0.05" max="1" step="0.05" value="0.5" />
				</div>
				<!-- SEVI Mode - First Page - Electron Counters -->
				<div class="grid background-lighter-blue negative-bottom-margin" id="Counters">
					<h3 class="white-text sevi-mode-hide" id="IROffCountersTitle">IR Off</h3>
					<h3 class="white-text sevi-mode-hide" id="IROnCountersTitle">IR On</h3>
					<label class="white-text text-box-label" id="TotalFramesLabel" for="TotalFrames">Total Frames:</label>
					<input class="input-read e-counter-box" id="TotalFrames" type="number" value="0" readonly />
					<input class="input-read e-counter-box sevi-mode-hide" id="TotalFramesIROn" type="number" value="0" readonly />
					<label class="white-text text-box-label" id="TotalECountLabel" for="TotalECount">Total e<sup>-</sup> Count:</label>
					<input class="input-read e-counter-box" id="TotalECount" type="text" value="0" readonly />
					<input class="input-read e-counter-box sevi-mode-hide" id="TotalECountIROn" type="text" value="0" readonly />
					<label class="white-text text-box-label" id="AvgECountLabel" for="AvgECount">Average e<sup>-</sup>/Shot:</label>
					<input class="input-read e-counter-box" id="AvgECount" type="number" value="0" readonly />
					<input class="input-read e-counter-box sevi-mode-hide" id="AvgECountIROn" type="number" value="0" readonly />
					<div class="divider-line" id="ECountersDivLine"></div>
					<label class="white-text text-box-label" id="AutomaticStopLabel">Stop Scan After:</label>
					<input class="input-change e-counter-box" id="AutomaticStop" placeholder="-" />
					<select class="white-text square-button drop-down" name="AutomaticStopUnit" id="AutomaticStopUnit">
						<option value="None">None</option>
						<option value="Electrons">x1e5 Electrons</option>
						<option value="Frames">x1000 Frames</option>
					</select>
				</div>
				<button class="page-down page-button" id="SeviPageDown"><i class="arrow arrow-down"></i></button>
				<!-- Pause Screen Animation Elements -->
				<div class="pause-screen" id="PauseScreenDisplay"></div>
				<!--<div class="pause-screen negative-bottom-margin" id="PauseScreenSaveControls"></div>-->
				<div class="pause-screen negative-bottom-margin" id="PauseScreenCounters"></div>
			</div>
			<!-- SEVI Mode - Second Page -->
			<div class="second-page page grid" id="SeviSecondPage">
				<button class="page-up page-button" id="SeviPageUp"><i class="arrow arrow-up"></i></button>
				<!-- SEVI Mode - Second Page - PE Spectrum Display -->
				<div class="grid background-lighter-blue negative-top-margin" id="SpectrumDisplaySection">
					<div class="background-lighter-blue" id="SpectrumDisplayInner">
						<canvas id="PESpectrum"></canvas>
					</div>
					<div class="grid background-lighter-blue" id="SpectrumControl">
						<select class="white-text square-button drop-down sevi-mode-hide" name="SpectrumSwitch" id="SpectrumSwitch">
							<option value="on-off">On/Off</option>
							<option value="difference">Difference</option>
						</select>
						<button class="white-text square-button" id="CalculateSpectrumButton">Calculate</button>
						<h4 class="white-text range-label" id="SpectrumYRangeLabel">Vertical Axis Range</h4>
						<input class="input-change axis-range-input" id="SpectrumYLower" type="number" placeholder="-" />
						<input class="input-change axis-range-input" id="SpectrumYUpper" type="number" placeholder="-" />
						<h4 class="white-text range-label" id="SpectrumXRangeLabel">Horizontal Axis Range</h4>
						<input class="input-change axis-range-input" id="SpectrumXLower" type="number" placeholder="-" />
						<input class="input-change axis-range-input" id="SpectrumXUpper" type="number" placeholder="-" />
					</div>
				</div>
				<!-- SEVI Mode - Second Page - Recent Scans -->
				<div class="grid background-lighter-blue" id="RecentScans">
					<header class="grid" id="RecentScansHeader">
						<h4 class="white-text">File Name</h4>
						<h4 class="white-text">h<em class="serif">ν</em> (nm)</h4>
						<h4 class="white-text">h<em class="serif">ν</em> (cm<sup>-1</sup>)</h4>
						<h4 class="white-text">Frame Count</h4>
						<h4 class="white-text">e<sup>-</sup> Count</h4>
					</header>
					<div class="grid" id="RecentScansSection"></div>
				</div>
				<!-- SEVI Mode - Second Page - Electron Count History -->
				<div class="background-lighter-blue" id="ElectronCountHistory"></div>
			</div>
		</div>
		<!-- IR Action Mode -->
		<div id="IRActionModeContent">
			<!-- IR Action Mode - First Page -->
			<div class="first-page page grid" id="IRActionFirstPage">
				<!-- IR Action Mode - First Page - Title Section -->
				<div class="grid background-lighter-blue title-section" id="IRActionTitleSection">
					<h1 class="white-text title">Hyperion</h1>
				</div>
				<!-- IR Action Mode - First Page - Scan Controls -->
				<div class="grid background-lighter-blue scan-controls" id="IRActionControls">
					<button class="scan-control-button square-button white-text" id="IRActionStartSave">
						<span class="scan-button-text" id="IRActionStartSaveText">Start</span>
					</button>
					<button class="scan-control-button square-button white-text" id="IRActionPauseResume">
						<span class="scan-button-text" id="IRActionPauseResumeText">Pause</span>
					</button>
					<button class="scan-control-button square-button white-text" id="IRActionCancel">
						<span class="scan-button-text" id="IRActionCancelText">Cancel</span>
					</button>
					<button class="scan-control-button square-button white-text" id="IRActionPreviousWavelength">
						<span class="scan-button-text" id="IRActionPreviousWavelengthText">Previous λ</span>
					</button>
					<button class="scan-control-button square-button white-text" id="IRActionNextWavelength">
						<span class="scan-button-text" id="IRActionNextWavelengthText">Next λ</span>
					</button>
					<button class="scan-control-button square-button white-text" id="IRActionTurnAround">
						<span class="scan-button-text" id="IRActionTurnAroundText">Turn Around</span>
					</button>
				</div>
				<!-- IR Action Mode - First Page - Scan Options -->
				<div class="grid background-lighter-blue negative-bottom-margin" id="IRActionOptions">
					<!-- IR Energy Range Selection -->
					<div class="grid background-lighter-blue ir-action-options-row" id="IRActionOptionsRange">
						<h3 class="white-text text-box-label" id="IRActionRangeLabel">Range:</h3>
						<input class="input-change hv-display" id="IRActionRangeStart" type="number" min="0" placeholder="-" />
						<label class="white-text" id="IRActionWNLabel1">cm<sup>-1</sup></label>
						<h3 class="white-text text-box-label" id="IRActionRangeToLabel">to</h3>
						<input class="input-change hv-display" id="IRActionRangeEnd" type="number" min="0" placeholder="-" />
						<label class="white-text" id="IRActionWNLabel2">cm<sup>-1</sup></label>
					</div>
					<!-- IR Energy Increment -->
					<div class="grid background-lighter-blue ir-action-options-row" id="IRActionOptionsIncrement">
						<h3 class="white-text text-box-label" id="IRActionIncrementLabel">Increment:</h3>
						<input class="input-change hv-display" id="IRActionIncrement" type="number" min="0" placeholder="-" />
						<label class="white-text" id="IRActionWNLabel3">cm<sup>-1</sup></label>
					</div>
					<!-- Image Collection Length -->
					<div class="grid background-lighter-blue ir-action-options-row" id="IRActionOptionsCollectionLength">
						<h4 class="white-text">Stand-in: (e- / frames) per image</h4>
					</div>
					<!-- Absorption Calculation Method -->
					<div class="grid background-lighter-blue ir-action-options-row" id="IRActionOptionsMeasurementMethod">
						<h4 class="white-text">Stand-in: depletion or peak height</h4>
					</div>
					<!-- Absorption Peak Radial Values -->
					<div class="grid background-lighter-blue ir-action-options-row" id="IRActionOptionsRadialValues">
						<!-- Should have two inputs: one for the origin, and one that appears for second peak 
								if the drop-down selection is rel. peak height -->
						<h3 class="white-text text-box-label" id="IRActionOriginRadiusLabel">Origin Radius:</h3>
						<input class="input-change hv-display" id="IRActionRadius" type="number" min="0" placeholder="-" />
						<label class="white-text" id="IRActionPxLabel">px</label>
					</div>
				</div>
				<!-- IR Action Mode - First Page - Absorption Plot -->
				<div class="grid background-lighter-blue" id="IRAbsorptionPlotSection">
					<canvas id="IRAbsorptionPlot"></canvas>
				</div>
				<!-- IR Action Mode - First Page - Next Wavelength -->
				<div class="grid background-lighter-blue" id="IRNextWavelength">
					<div class="grid text-background" id="CurrentEnergyBackground">
						<h3 class="white-text next-wavelength next-wavelength-label" id="IRActionCurrentEnergyLabel">Current Energy:</h3>
						<h3 class="white-text next-wavelength" id="IRActionCurrentEnergy"></h3>
					</div>
					<div class="grid text-background" id="NextEnergyBackground">
						<h3 class="white-text next-wavelength next-wavelength-label" id="IRActionNextEnergyLabel">Next Energy:</h3>
						<h3 class="white-text next-wavelength" id="IRActionNextEnergy"></h3>
					</div>
				</div>
				<!-- IR Action Mode - First Page - Progress -->
				<div class="grid background-lighter-blue negative-bottom-margin" id="IRActionProgress">
					<div class="grid text-background" id="ProgressTextBackground">
						<h3 class="white-text progress-text" id="ProgressTextProgress">Progress:</h3>
						<h3 class="white-text progress-text" id="ProgressTextCurrentImage"></h3>
						<h3 class="white-text progress-text" id="ProgressTextOf">of</h3>
						<h3 class="white-text progress-text" id="ProgressTextTotalImages"></h3>
					</div>
					<div class="grid text-background" id="ProgressBarBackground">
						<div id="ProgressBarOuter"></div>
						<div class="white-text" id="ProgressBar"></div>
					</div>
				</div>
				<button class="page-down page-button" id="IRActionPageDown"><i class="arrow arrow-down"></i></button>
			</div>
			<!-- IR Action Mode - Second Page -->
			<div class="second-page page grid" id="IRActionSecondPage">
				<button class="page-up page-button" id="IRActionPageUp"><i class="arrow arrow-up"></i></button>
				<div class="grid background-lighter-blue negative-top-margin" id="IRActionInfo"></div>
				<div class="grid background-lighter-blue" id="IRPreviousWavelengths"></div>
				<div class="grid background-lighter-blue negative-top-margin" id="IRActionImage"></div>
				<div class="grid background-lighter-blue" id="IRActionSpectrum"></div>
			</div>
		</div>
		<!-- Future tabs should be added here (before settings section) -->
		<!-- Settings Section -->
		<div id="SettingsContent">
			<h1 id="SettingsTitle">Settings</h1>
			<div class="settings-section" id="CameraSettingsContent">
				<h3 class="settings-section-title">Camera Settings</h3>
				<br />
				<label class="settings-input-label" for="AoIx">AoI Width:</label>
				<input type="number" class="settings-number-input input-change" id="AoIx" />
				<label class="settings-input-label" for="AoIy">AoI Height:</label>
				<input type="number" class="settings-number-input input-change" id="AoIy" />
				<br /><br />
				<label class="settings-input-label" for="xOffset">Offset Left:</label>
				<input type="number" class="settings-number-input input-change" id="xOffset" />
				<label class="settings-input-label" for="yOffset">Offset Top:</label>
				<input type="number" class="settings-number-input input-change" id="yOffset" />
				<br /><br />
				<label class="settings-input-label" for="ExposureTime">Exposure Time:</label>
				<input type="number" class="settings-number-input input-change" id="ExposureTime" />
				<label class="unit-label" for="ExposureTime">ms</label>
				<label class="settings-input-label" for="Gain">Gain:</label>
				<input type="number" class="settings-number-input input-change" id="Gain" min="0" max="100" />
				<label class="unit-label" for="Gain">%</label>
				<label class="settings-input-label" for="GainBoost">Use Gain Boost:</label>
				<input type="checkbox" id="GainBoost" />
				<br /><br />
				<label class="settings-input-label">Trigger:</label>
				<label class="settings-input-label" for="InternalTrigger">Internal Trigger</label>
				<input type="radio" name="Trigger" id="InternalTrigger" value="InternalTrigger" />
				<label class="settings-input-label" for="RisingEdge">Rising Edge</label>
				<input type="radio" name="Trigger" id="RisingEdge" value="RisingEdge" />
				<label class="settings-input-label" for="FallingEdge">Falling Edge</label>
				<input type="radio" name="Trigger" id="FallingEdge" value="FallingEdge" />
				<br /><br />
				<label class="settings-input-label" for="TriggerDelay">Trigger Delay:</label>
				<input type="number" class="settings-number-input input-change" id="TriggerDelay" />
				<label class="unit-label" for="TriggerDelay">ms</label>
				<!--
					flash settings
					Location of IR light
				-->
			</div>
			<div class="settings-section" id="CentroidingSettingsContent">
				<h3 class="settings-section-title">Centroid Settings</h3>
				<br />
				<label class="settings-input-label" for="RawAccumulation">Accumulate Raw Spots</label>
				<input type="radio" name="CentroidAccumulationRadio" id="RawAccumulation" value="Raw" />
				<label class="settings-input-label" for="CentroidAccumulation">Accumulate Centroids</label>
				<input type="radio" name="CentroidAccumulationRadio" id="CentroidAccumulation" value="Centroid" />
				<br /><br />
				<label class="settings-input-label" for="HybridMethod">Use Hybrid Method</label>
				<input type="checkbox" id="HybridMethod" />
				<br /><br />
				<label class="settings-input-label" for="CentroidBinSize">Additional Centroid Binning Size:</label>
				<input class="settings-number-input input-change" id="CentroidBinSize" type="number" min="0" max="4096" />
				<label class="unit-label" for="CentroidBinSize"><sup>2</sup></label>
			</div>
			<div class="settings-section" id="DisplaySettingsContent">
				<!--
					Show red circles for centroids
					?Show e- graph or previous files on main page
					Startup page size and location
				-->
			</div>
			<div class="settings-section" id="PostProcessSettingsContent">
				<!--
					Location of MEVELER stuff
				-->
			</div>
			<div class="settings-section" id="SavingSettingsContent"></div>
			<div class="settings-section" id="SaveButtonSection">
				<!-- Add text that says "Saved!" when save button clicked -->
				<button class="square-button white-text" id="SaveSettingsButton">Save</button>
			</div>
		</div>

		<!--<script src="../JS/mainDefinitions.js"></script>-->
		<script src="../JS/mainDefinitions2.js"></script>
		<script src="../JS/mainFunctions.js"></script>
	</body>
</html>
